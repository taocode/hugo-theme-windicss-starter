<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ block "title" . }}
        {{- .Title }} 
    {{- if ne .Title .Site.Title }} - {{ .Site.Title }} {{ end -}}
    {{ end }}</title>
    {{- if .Description }}
    <meta name="description" content="{{ .Description }}" />
    {{ end -}}
    {{- if .Keywords }}
    <meta name="keywords" content="{{ delimit .Keywords "," }}" />
    {{ end -}}
    {{- if .Params.Author }}
    <meta name="author" content="{{ .Params.Author}}" />
    {{ end -}}
    {{ hugo.Generator }}

    {{/* windi.css is generated by windicss cli, see readme */}}
    {{- $windi := resources.Get "css/windi.css" -}}
    {{- $vars := resources.Get "css/vars.css" -}}
    {{- $siteCSS := resources.Get "css/site.css" -}}
    {{- $siteJS := resources.Get "js/site.js" -}}
    {{- if .Site.IsServer }}
    <link rel="stylesheet" href="{{ $vars.RelPermalink }}">
    <link rel="stylesheet" href="{{ $windi.RelPermalink }}">
    <link rel="stylesheet" href="{{ $siteCSS.RelPermalink }}">
    <script defer="defer" src="{{ $siteJS.RelPermalink }}"></script>
    {{ else }}
        {{- $styles := slice $vars $windi $siteCSS | resources.Concat "css/styles.css" | minify | fingerprint | resources.PostProcess -}}
        {{- $scripts := slice $siteJS | resources.Concat "js/scripts.js" | minify | fingerprint | resources.PostProcess -}}
    <link rel="stylesheet" href="{{ $styles.RelPermalink }}" integrity="{{ $styles.Data.Integrity }}">
    <script defer="defer" src="{{ $scripts.RelPermalink }}" integrity="{{ $scripts.Data.Integrity }}"></script>
    {{ end -}}
</head>